macro = {
    description = "Scripted progress bar index in journal entry"
    definition = "ComProgressBarIndex"
    replace_with = "Localize(Concatenate( 'com_progress_bar_', ToString_int32(PdxGuiWidget.GetIndexInDataModel) ))"
}

macro = {
    description = "Get progress bar struct"
    definition = "ComProgressBar"
    replace_with = "JournalEntry.MakeScope.Var(ComProgressBarIndex)"
}

macro = {
    description = "Get progress bar base color"
    definition = "ComProgressBarBaseColor"
    replace_with = "ComProgressBar.Var('com_left_color')"
}

macro = {
    description = "Get progress bar second color"
    definition = "ComProgressBarSecondColor"
    replace_with = "ComProgressBar.Var('com_right_color')"
}

macro = {
    description = "Set progress bar increase color"
    definition = "ComProgressBarSetBaseColor(Color)"
    replace_with = "And(ComProgressBarBaseColor.IsSet, ObjectsEqual(ComProgressBarBaseColor.GetFlagName, Color))"
}

macro = {
    description = "Get progress bar drift"
    definition = "ComProgressBarDrift"
    replace_with = "ComProgressBar.Var('com_drift_value')"
}

macro = {
    description = "Get progress bar drift script value"
    definition = "ComProgressBarDriftSValue"
    replace_with = "JournalEntry.GetCountry.MakeScope.ScriptValue(ComProgressBarDrift.GetFlagName)"
}

macro = {
    description = "Is progress bar value increasing"
    definition = "ComProgressBarIsIncreasing"
    replace_with = "And4(ComProgressBarIncreaseColor.IsSet, ComProgressBarDrift.IsSet, Not(StringIsEmpty(ComProgressBarDrift.GetFlagName)), GreaterThan_float(FixedPointToFloat(ComProgressBarDriftSValue), JournalEntry.GetCurrentBarProgress(ScriptedProgressBar.Self) ) )"
}

macro = {
    description = "Is progress bar value decreasing"
    definition = "ComProgressBarIsDecreasing"
    replace_with = "And4(ComProgressBarDecreaseColor.IsSet, ComProgressBarDrift.IsSet, Not(StringIsEmpty(ComProgressBarDrift.GetFlagName)), GreaterThan_float(JournalEntry.GetCurrentBarProgress(ScriptedProgressBar.Self), FixedPointToFloat(ComProgressBarDriftSValue) ) )"
}

macro = {
    description = "Get progress bar increase color"
    definition = "ComProgressBarIncreaseColor"
    replace_with = "ComProgressBar.Var('com_bar_increase_color')"
}

macro = {
    description = "Set progress bar increase color"
    definition = "ComProgressBarSetIncreaseColor(Type)"
    replace_with = "GetIdeology(Concatenate(Type, ComProgressBarIncreaseColor.GetFlagName)).GetTexture"
}

macro = {
    description = "Get progress bar drift down color"
    definition = "ComProgressBarDecreaseColor"
    replace_with = "ComProgressBar.Var('com_bar_decrease_color')"
}

macro = {
    description = "Set progress bar drift down color"
    definition = "ComProgressBarSetDecreaseColor(Type)"
    replace_with = "GetIdeology(Concatenate(Type, ComProgressBarDecreaseColor.GetFlagName)).GetTexture"
}

macro = {
    description = "Get progress bar target"
    definition = "ComProgressBarTarget"
    replace_with = "ComProgressBar.Var('com_target_value')"
}

macro = {
    description = "Get progress bar target"
    definition = "ComProgressBarTargetSValue"
    replace_with = "JournalEntry.GetCountry.MakeScope.ScriptValue(ComProgressBarTarget.GetFlagName)"
}

macro = {
    description = "Get progress bar target type"
    definition = "ComProgressBarTargetTypeCompare(Value)"
    replace_with = "And3(ComProgressBarTarget.IsSet, ComProgressBar.Var('com_target_type').IsSet, ObjectsEqual(Localize(ComProgressBar.Var('com_target_type').GetFlagName), Value))"
}

macro = {
    description = "Get progress bar target"
    definition = "ComProgressBarTargetColor"
    replace_with = "ComProgressBar.Var('com_target_type')"
}

macro = {
    description = "Get progress bar target"
    definition = "ComProgressBarTargetLine"
    replace_with = "And3(
        ComProgressBarTarget.IsSet,
        ComProgressBar.Var('com_target_type').IsSet,
        Or5(
            ObjectsEqual(ComProgressBar.Var('com_target_type').GetFlagName, 'default'),
            ObjectsEqual(ComProgressBar.Var('com_target_type').GetFlagName, 'bad'),
            ObjectsEqual(ComProgressBar.Var('com_target_type').GetFlagName, 'green'),
            ObjectsEqual(ComProgressBar.Var('com_target_type').GetFlagName, 'gold'),
            ObjectsEqual(ComProgressBar.Var('com_target_type').GetFlagName, 'white')
        )
    )"
}

macro = {
    description = "Scripted progress bar index in journal entry"
    definition = "ComProgressBarIndexInLevels"
    replace_with = "Localize(Concatenate( 'com_progress_bar_', ToString_int32(PdxGuiWidget.AccessParent.AccessParent.AccessParent.GetIndexInDataModel) ))"
}

macro = {
    description = "Get progress bar struct"
    definition = "ComProgressBarInLevels"
    replace_with = "JournalEntry.MakeScope.Var(ComProgressBarIndexInLevels)"
}
